[opcache]
; ------------------------------------------------------------------------
; --- 核心启用 ---
; ------------------------------------------------------------------------
opcache.enable=1
opcache.enable_cli=0

; ------------------------------------------------------------------------
; --- 内存配置 (中等) ---
; ------------------------------------------------------------------------
; 192MB (适应中等规模项目)
opcache.memory_consumption=192
; 字符串缓冲
opcache.interned_strings_buffer=16
; 最大缓存文件数
opcache.max_accelerated_files=10240

; ------------------------------------------------------------------------
; --- 开发策略：允许热更新 ---
; ------------------------------------------------------------------------
; 关键：开启时间戳验证 (代码修改会生效)
opcache.validate_timestamps=1
; 关键：设置为0表示"每次请求"都检查文件更新
opcache.revalidate_freq=0
; 关键：取消文件更新保护 (防止因写入延迟导致的缓存失败)
opcache.file_update_protection=0

; ------------------------------------------------------------------------
; --- PHP 8.5 JIT 配置 ---
; 开发环境建议开启JIT以模拟生产环境性能，但缓冲区不必太大
; ------------------------------------------------------------------------
; JIT机器码缓冲区
opcache.jit_buffer_size=64M
; 推荐：跟踪模式 (适合Web请求)
opcache.jit=tracing

; ------------------------------------------------------------------------
; --- 优化 ---
; ------------------------------------------------------------------------
opcache.fast_shutdown=1
opcache.enable_file_override=1
opcache.optimization_level=0x7FFFBFFF